<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>개발일지 | 게시글 작성</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <!--    jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--BootStrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" />
    <!--    폰트-->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
    <script>
        function to_main(){
            window.location.href="/"
        }

        function isValidContents(title, writer, context) {
            if (title && writer && context !== "") {
                return true;
            } else {
                alert('내용을 입력해주세요');
                return false;
            }
        }

        function writePost() {
            let title = $('#inputTitle').val();
            let writer = $('#inputWriter').val();
            let context = $('#inputContext').val();

            if (isValidContents(title, writer, context)=== false) {
                return ;
            }

            let data = {'title': title, 'writer': writer, 'context': context};

            $.ajax({
                type: "POST",
                url: "/write",
                contentType: "application/json",
                data: JSON.stringify(data),
                success: function (response) {
                    alert('메시지가 성공적으로 작성되었습니다.');
                    window.location.reload();
                }
            });
        }
    </script>
    <style>
        .hoverTest:hover{
            color:red;
            cursor: pointer;

        }
    </style>
</head>
<body>

<button type="button" class="btn btn-primary btn_write" data-bs-toggle="modal" data-bs-target="#exampleModal">
    <i class="fa fa-pencil fa-2x" aria-hidden="true"></i>
</button>

<button type="button" class="btn btn-primary btn_write" data-bs-toggle="modal" data-bs-target="#exampleModal">
    또 다른 버튼
</button>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title modal-text" id="exampleModalLabel">💡 오늘 배운 개발 지식을 기록해요</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="inputTitle" class="form-label">제목</label>
                    <input type="email" class="form-control" id="inputTitle" placeholder="제목을 입력하세요">
                </div>
                <div class="mb-3">
                    <label for="inputWriter" class="form-label">작성자</label>
                    <input type="email" class="form-control" id="inputWriter" placeholder="작성자 이름을 입력하세요">
                </div>
                <div class="mb-3">
                    <label for="inputContext" class="form-label">내용</label>
                    <textarea class="form-control" id="inputContext" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary btn_save" onclick="writePost()">작성 완료</button>
            </div>
        </div>
    </div>
</div>

<table class="table">
    <thead>
    <tr>
        <th scope="col">No.</th>
        <th scope="col">Title</th>
        <th scope="col">Writer</th>
        <th scope="col">Date</th>
    </tr>
    </thead>
    <tbody id="table-rows">
    <tr>
        <th scope="row">1</th>
        <td class= "hoverTest" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Mark
        </td>
        <td class="hoverTest">Otto</td>
        <td>@mdo</td>
    </tr>
    <tr>
        <th scope="row">2</th>
        <td>Jacob</td>
        <td>Thornton</td>
        <td>@fat</td>
    </tr>
    <tr>
        <th scope="row">3</th>
        <td> Bree </td>
        <td>Larry</td>
        <td>@twitter</td>
    </tr>
    </tbody>
</table>
</div>


<!--    <h1>게시글 작성 페이지</h1>-->
<!--    <button onclick="to_main()">메인으로 돌아가기</button>-->
<!--    <div class="mb-3">&ndash;&gt;-->
<!--        <label for="inputTitle" class="form-label">제목</label>-->
<!--        <input type="email" class="form-control" id="inputTitle" placeholder="제목을 입력하세요">-->
<!--    </div>-->
<!--    <div class="mb-3">-->
<!--        <label for="inputWriter" class="form-label">작성자</label>-->
<!--        <input type="email" class="form-control" id="inputWriter" placeholder="작성자 이름을 입력하세요">-->
<!--    </div>-->
<!--    <div class="mb-3">-->
<!--        <label for="inputContext" class="form-label">내용</label>-->
<!--        <textarea class="form-control" id="inputContext" rows="3"></textarea>-->
<!--    </div>-->

<!--    <button onclick="writePost()">작성완료</button>-->

<

</body>
</html>